language: java

cache:
  directories:
    - $HOME/.m2

jdk:
  - openjdk8
#  - openjdk11

branches:
  only:
    - master

deploy:
  - provider: pages
    skip_cleanup: true
    github_token: $GITHUB_TOKEN  # Set in the Travis settings page of your repository, as a secure variable
    keep_history: true
    local_dir: ebook/target/generated-docs #Contains all the files generated by project Asciidoctor and also Github Pages files.
    target_branch: gh-pages
    on:
      branch: master
  - provider: releases
    api_key:
      secure: GVMCwDvBKhLhAyvitIJeImO8kG++WvbXqEhw0GoSrPkxvKimjukKvm5kXVRpzN0U6RDBEiEMLjIwW+qMqv7s+yrpH2VxOi5Co8Pn9E8Uckd8YrS5AvTo1h5fwYahN6Lywxb1qCG15emOKUCeDqckI7BaA4a1yMNPFOayf9K2QArsF3i5/RfrZhMxyPfFC73za/nGC/7iJEB7EA5iadileIezvfyRAC0bhP0skVxV0omb180iNmoTdyHjUplMWt7918XP4I88x4F3NAhIeD3MRdq3rPrn5eFMY8K47OzeYd2lk6LFNnC2BDyMy6F5IU2HEB8PQe4f4qJwiBBFPuyhPa6fQmk0dPNULOz47CmUxGAJNJGZdENnEqSZRWks8MQfS5f5PpnSEZmoY2x5YRqkFlfo0y9LfL+kz+7LfbvxM4XeZJglZ1x2K338KZI0pdGcj96xOl8+D9tNoVvkG1VK32i2y/5CisLaA9NXlAYFRk5nXvGwI6e5Jq5+KOLOiNQzif589XyfqaiYAuWD6NfZ4VyvhRD9Wq2UUhiEUoICj4jeNn4bbMXt5TxKc5w+WpwU36HkYqxFInasyy5j9AWGN/oW1BQ+yWAU/iNKua5hI3QVYFSIaZdrdhLlEeDjHqALUAMG4fk+gJyWzFkfGQF4gUGpzcH2252TX0PVOGIDaUA=
    file: ebook/target/generated-docs/building-an-api-backend-with-microprofile.pdf
    skip_cleanup: true
    on:
      tags: true


#Optional if want to have a gitter group for this repository
#notifications:
#  webhooks:
#    urls:
#      - "https://webhooks.gitter.im/e/YourCodeHere"
#    on_success: always  # options: [always|never|change] default: always
#    on_failure: always  # options: [always|never|change] default: always
#    on_start: always     # options: [always|never|change] default: always